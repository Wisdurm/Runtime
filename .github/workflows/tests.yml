name: "Catch2 - Tests"
# 100% this doesn't work but whatever, I don't give a swag
on: push

jobs:
  build-and-test:
    runs-on: "ubuntu-latest"
    steps:
      - name: "Checkout repo"
        uses: actions/checkout@v3
        with:
          submodules: 'true'

      - name: "Dependencies"
        run: |
          sudo apt-get update && \
          sudo apt-get install -yq \
          cmake \
          ninja-build \

#      - name : "CMake"
#        run: |
#          cmake --preset basic-tests -GNinja \
#            -DCMAKE_BUILD_TYPE=${{matrix.build_type}} \
#            -DCMAKE_CXX_COMPILER=${{matrix.cxx}} \
#            -DCMAKE_CXX_STANDARD=${{matrix.std}}

      - name: "Build"
        run: |
          cmake . -G Ninja
          ninja

      - name: "test"
        run: "./build/tests"